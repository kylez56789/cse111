==12463== Memcheck, a memory error detector
==12463== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==12463== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==12463== Command: ../yshell
==12463== 
Bad: no such function
==12463== Invalid read of size 8
==12463==    at 0x40999E: std::__shared_ptr<inode, (__gnu_cxx::_Lock_policy)2>::get() const (shared_ptr_base.h:1308)
==12463==    by 0x40979F: std::__shared_ptr_access<inode, (__gnu_cxx::_Lock_policy)2, false, false>::_M_get() const (shared_ptr_base.h:1019)
==12463==    by 0x4083F3: std::__shared_ptr_access<inode, (__gnu_cxx::_Lock_policy)2, false, false>::operator->() const (shared_ptr_base.h:1013)
==12463==    by 0x4116A3: operator<<(std::ostream&, directory&) (file_sys.cpp:331)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Address 0x5a29348 is 40 bytes inside a block of size 56 free'd
==12463==    at 0x4C2B40D: operator delete(void*) (vg_replace_malloc.c:586)
==12463==    by 0x416FE3: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::deallocate(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (new_allocator.h:125)
==12463==    by 0x41632C: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (alloc_traits.h:462)
==12463==    by 0x415216: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_put_node(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:603)
==12463==    by 0x414165: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:670)
==12463==    by 0x4132FD: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:1874)
==12463==    by 0x41276D: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::~_Rb_tree() (stl_tree.h:965)
==12463==    by 0x411F87: std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::~map() (stl_map.h:300)
==12463==    by 0x41165D: operator<<(std::ostream&, directory&) (file_sys.cpp:330)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Block was alloc'd at
==12463==    at 0x4C2A483: operator new(unsigned long) (vg_replace_malloc.c:344)
==12463==    by 0x41702F: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::allocate(unsigned long, void const*) (new_allocator.h:111)
==12463==    by 0x416357: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, unsigned long) (alloc_traits.h:436)
==12463==    by 0x41523E: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_get_node() (stl_tree.h:599)
==12463==    by 0x4177BF: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_create_node<std::pair<std::string const, std::shared_ptr<inode> > const&>(std::pair<std::string const, std::shared_ptr<inode> > const&) (stl_tree.h:653)
==12463==    by 0x4170D2: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node::operator()<std::pair<std::string const, std::shared_ptr<inode> > const&>(std::pair<std::string const, std::shared_ptr<inode> > const&) const (stl_tree.h:567)
==12463==    by 0x4163FF: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_clone_node<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > const*, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:677)
==12463==    by 0x4154D2: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > const*, std::_Rb_tree_node_base*, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:1846)
==12463==    by 0x4146BE: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:891)
==12463==    by 0x413617: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_tree.h:902)
==12463==    by 0x412A30: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Rb_tree(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_tree.h:940)
==12463==    by 0x411FDA: std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::map(std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_map.h:205)
==12463== 
==12463== Invalid read of size 8
==12463==    at 0x40999E: std::__shared_ptr<inode, (__gnu_cxx::_Lock_policy)2>::get() const (shared_ptr_base.h:1308)
==12463==    by 0x40979F: std::__shared_ptr_access<inode, (__gnu_cxx::_Lock_policy)2, false, false>::_M_get() const (shared_ptr_base.h:1019)
==12463==    by 0x4083F3: std::__shared_ptr_access<inode, (__gnu_cxx::_Lock_policy)2, false, false>::operator->() const (shared_ptr_base.h:1013)
==12463==    by 0x4116FB: operator<<(std::ostream&, directory&) (file_sys.cpp:332)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Address 0x5a29348 is 40 bytes inside a block of size 56 free'd
==12463==    at 0x4C2B40D: operator delete(void*) (vg_replace_malloc.c:586)
==12463==    by 0x416FE3: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::deallocate(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (new_allocator.h:125)
==12463==    by 0x41632C: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (alloc_traits.h:462)
==12463==    by 0x415216: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_put_node(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:603)
==12463==    by 0x414165: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:670)
==12463==    by 0x4132FD: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:1874)
==12463==    by 0x41276D: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::~_Rb_tree() (stl_tree.h:965)
==12463==    by 0x411F87: std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::~map() (stl_map.h:300)
==12463==    by 0x41165D: operator<<(std::ostream&, directory&) (file_sys.cpp:330)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Block was alloc'd at
==12463==    at 0x4C2A483: operator new(unsigned long) (vg_replace_malloc.c:344)
==12463==    by 0x41702F: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::allocate(unsigned long, void const*) (new_allocator.h:111)
==12463==    by 0x416357: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, unsigned long) (alloc_traits.h:436)
==12463==    by 0x41523E: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_get_node() (stl_tree.h:599)
==12463==    by 0x4177BF: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_create_node<std::pair<std::string const, std::shared_ptr<inode> > const&>(std::pair<std::string const, std::shared_ptr<inode> > const&) (stl_tree.h:653)
==12463==    by 0x4170D2: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node::operator()<std::pair<std::string const, std::shared_ptr<inode> > const&>(std::pair<std::string const, std::shared_ptr<inode> > const&) const (stl_tree.h:567)
==12463==    by 0x4163FF: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_clone_node<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > const*, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:677)
==12463==    by 0x4154D2: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > const*, std::_Rb_tree_node_base*, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:1846)
==12463==    by 0x4146BE: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:891)
==12463==    by 0x413617: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_tree.h:902)
==12463==    by 0x412A30: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Rb_tree(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_tree.h:940)
==12463==    by 0x411FDA: std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::map(std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_map.h:205)
==12463== 
==12463== Invalid read of size 8
==12463==    at 0x4ECC3E0: _M_data (basic_string.h:293)
==12463==    by 0x4ECC3E0: _M_rep (basic_string.h:301)
==12463==    by 0x4ECC3E0: size (basic_string.h:716)
==12463==    by 0x4ECC3E0: std::basic_ostream<char, std::char_traits<char> >& std::operator<< <char, std::char_traits<char>, std::allocator<char> >(std::basic_ostream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:2758)
==12463==    by 0x411748: operator<<(std::ostream&, directory&) (file_sys.cpp:333)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Address 0x5a29340 is 32 bytes inside a block of size 56 free'd
==12463==    at 0x4C2B40D: operator delete(void*) (vg_replace_malloc.c:586)
==12463==    by 0x416FE3: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::deallocate(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (new_allocator.h:125)
==12463==    by 0x41632C: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (alloc_traits.h:462)
==12463==    by 0x415216: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_put_node(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:603)
==12463==    by 0x414165: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:670)
==12463==    by 0x4132FD: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_erase(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*) (stl_tree.h:1874)
==12463==    by 0x41276D: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::~_Rb_tree() (stl_tree.h:965)
==12463==    by 0x411F87: std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::~map() (stl_map.h:300)
==12463==    by 0x41165D: operator<<(std::ostream&, directory&) (file_sys.cpp:330)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Block was alloc'd at
==12463==    at 0x4C2A483: operator new(unsigned long) (vg_replace_malloc.c:344)
==12463==    by 0x41702F: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::allocate(unsigned long, void const*) (new_allocator.h:111)
==12463==    by 0x416357: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, unsigned long) (alloc_traits.h:436)
==12463==    by 0x41523E: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_get_node() (stl_tree.h:599)
==12463==    by 0x4177BF: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_create_node<std::pair<std::string const, std::shared_ptr<inode> > const&>(std::pair<std::string const, std::shared_ptr<inode> > const&) (stl_tree.h:653)
==12463==    by 0x4170D2: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node::operator()<std::pair<std::string const, std::shared_ptr<inode> > const&>(std::pair<std::string const, std::shared_ptr<inode> > const&) const (stl_tree.h:567)
==12463==    by 0x4163FF: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_clone_node<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > const*, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:677)
==12463==    by 0x4154D2: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > const*, std::_Rb_tree_node_base*, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:1846)
==12463==    by 0x4146BE: std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >* std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy<std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node>(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&, std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Alloc_node&) (stl_tree.h:891)
==12463==    by 0x413617: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_copy(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_tree.h:902)
==12463==    by 0x412A30: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_Rb_tree(std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_tree.h:940)
==12463==    by 0x411FDA: std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::map(std::map<std::string, std::shared_ptr<inode>, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > > const&) (stl_map.h:205)
==12463== 
==12463== Invalid read of size 8
==12463==    at 0x40999E: std::__shared_ptr<inode, (__gnu_cxx::_Lock_policy)2>::get() const (shared_ptr_base.h:1308)
==12463==    by 0x40979F: std::__shared_ptr_access<inode, (__gnu_cxx::_Lock_policy)2, false, false>::_M_get() const (shared_ptr_base.h:1019)
==12463==    by 0x4083F3: std::__shared_ptr_access<inode, (__gnu_cxx::_Lock_policy)2, false, false>::operator->() const (shared_ptr_base.h:1013)
==12463==    by 0x411760: operator<<(std::ostream&, directory&) (file_sys.cpp:334)
==12463==    by 0x410671: operator<<(std::ostream&, std::shared_ptr<inode> const&) (file_sys.cpp:185)
==12463==    by 0x405831: fn_ls(inode_state&, std::vector<std::string, std::allocator<std::string> > const&) (commands.cpp:205)
==12463==    by 0x41959B: main (main.cpp:78)
==12463==  Address 0x5a29348 is 40 bytes inside a block of size 56 free'd
==12463==    at 0x4C2B40D: operator delete(void*) (vg_replace_malloc.c:586)
==12463==    by 0x416FE3: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >::deallocate(std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (new_allocator.h:125)
==12463==    by 0x41632C: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > > >&, std::_Rb_tree_node<std::pair<std::string const, std::shared_ptr<inode> > >*, unsigned long) (alloc_traits.h:462)
==12463==    by 0x415216: std::_Rb_tree<std::string, std::pair<std::string const, std::shared_ptr<inode> >, std::_Select1st<std::pair<std::string const, std::shared_ptr<inode> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::shared_ptr<inode> > > >::_M_put_node(std::_Rb_tree_node<std::pair<std::string const, std::sha